import{r as i,V as e,X as s,j as t,p as n,al as a,aE as l,am as r,aF as c}from"./index-DyR0ftVW.js";import{M as m}from"./ManagementHeader-ym6m9w7H.js";import{u as d}from"./useClinicSync-pPWROp7F.js";const o=()=>{const{selectedClinicId:o,clinicList:u,loadingClinics:b,clinicError:C}=d(),[g,S]=i.useState(0),[M,x]=i.useState(!1),[h,j]=i.useState(null),[p,L]=i.useState(!1),[f,E]=i.useState({isValid:!1,isDirty:!1,isSubmitting:!1,isLoading:!1,submitLabel:"Create Clinic Member"}),T=i.useRef(),y=e(),D=s(y.breakpoints.down("sm"));i.useEffect(()=>{o&&(x(!1),L(!1),j(null))},[o]);const I=i.useCallback(i=>{E(i)},[]);return t.jsxs(n,{children:[t.jsx(m,{icon:a.ClinicMembers,title:"Clinic Team Member Management",description:"Manage clinic team members who have access to clinic operations",addButtonLabel:"Create Clinic Team Member",onAdd:()=>{L(!1),j(null),x(!0)},addButtonDisabled:!o,clinics:u,selectedClinicId:o,loadingClinics:b,clinicError:C}),t.jsx(n,{sx:{mt:3},children:t.jsx(l,{refreshTrigger:g,onEdit:i=>{j(i),L(!0),x(!0)},selectedClinicId:o})}),t.jsx(r,{open:M,onClose:()=>{x(!1),L(!1),j(null),E({isValid:!1,isDirty:!1,isSubmitting:!1,isLoading:!1,submitLabel:"Create Clinic Member"})},onSubmit:()=>{T.current&&T.current.submitForm()},title:p?"Edit Clinic Team Member":"Create Clinic Team Member",submitLabel:f.submitLabel,disableSubmit:!f.isValid||!f.isDirty||f.isSubmitting||f.isLoading,loading:f.isSubmitting||f.isLoading,maxWidth:"sm",...D?{}:{customWidth:"700px"},showActions:!0,children:t.jsx(c,{ref:T,onMemberAdded:()=>{S(i=>i+1),x(!1)},onFormStateChange:I,memberToEdit:h,isEditing:p,selectedClinicId:o})})]})};export{o as default};
