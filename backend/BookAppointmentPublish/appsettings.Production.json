{
  "_comment": "Production settings for Google Cloud deployment",
  
  "ConnectionStrings": {
    "DefaultConnection": "host=34.130.235.51;Port=5432;database=BookAppointmentDB;user id=postgres;password=Healthco@123;SSL Mode=Require;Trust Server Certificate=true;Timeout=300;Command Timeout=300;Pooling=true;Maximum Pool Size=100;Minimum Pool Size=5;Connection Lifetime=300;Connection Idle Lifetime=60;"
  },

  "JwtOptions": {
    "Issuer": "https://healthco.clinic/",
    "Audience": "https://healthco.clinic/",
    "SigningKey": "REPLACE_WITH_SECURE_KEY_IN_PRODUCTION",
    "ExpirationSeconds": 7200,
    "_comment": "Production - Use environment variable JWT_SIGNING_KEY for security. 2 hours expiration for file uploads.",
    "_securityNote": "NEVER commit real signing key to Git! Use environment variables or Secret Manager."
  },
  
  "Portal": {
    "BaseUrl": "https://healthco.clinic"
  },

  "GoogleCloudStorage": {
    "_comment": "Production GCS configuration - FILES UPLOADED HERE, NOT IN DB TRANSACTION",
    "BucketName": "healthco-patient-documents",
    "UseCloudStorage": true,
    "ServiceAccountKeyPath": "/home/user/credentials/healthco-production-90db8351b60a.json",
    "ProjectId": "healthco-production"
  },
  
  "ApplicationSettings": {
    "_comment": "These paths are ignored when UseCloudStorage=true",
    "ImageUploadPath": "/mnt/storage/images",
    "PatientDocumentPath": "/mnt/storage/documents/patients",
    "MaxImageFileSizeInMB": 5,
    "MaxDocumentFileSizeInMB": 25,
  "AllowedDocumentExtensions": ".pdf,.jpg,.jpeg,.png,.doc,.docx",
 "UseAbsolutePaths": true,
    "_note": "GCS storage takes precedence when UseCloudStorage=true"
  },
  
  "Serilog": {
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "System": "Warning"
      }
    },
    "WriteTo": [
      { "Name": "Console" },
{
        "Name": "File",
        "Args": {
     "path": "/var/log/bookappointment/apilog-.log",
    "rollingInterval": "Day",
       "rollOnFileSizeLimit": true,
          "retainedFileCountLimit": 90,
       "formatter": "Serilog.Formatting.Compact.CompactJsonFormatter,Serilog.Formatting.Compact",
          "_comment": "Production: Logs stored in /var/log/bookappointment/ (Linux standard location)"
        }
 }
    ],
 "Enrich": [ "FromLogContext", "WithThreadId", "WithMachineName" ]
  }
}
