import{m as e,r as s}from"./index-DyR0ftVW.js";const t=async s=>{var t,r;try{return(e=>{const{data:s}=e;if(!s.success&&void 0!==s.success)throw new Error(s.message||"An error occurred");return s.data||s})(await e.get(`https://healthco.clinic/api/api/provinces/GetProvincesByCountryId/${s}`))}catch(a){const e=(null==(r=null==(t=a.response)?void 0:t.data)?void 0:r.message)||a.message||"Failed to fetch provinces";throw new Error(e)}},r=e=>{const[r,a]=s.useState([]),[c,n]=s.useState(!1),[o,i]=s.useState(null),u=s.useCallback(async()=>{if(e){n(!0),i(null);try{const s=await t(e);a(s||[])}catch(s){i(s.message),a([])}finally{n(!1)}}else a([])},[e]);return s.useEffect(()=>{u()},[u]),{provinces:r,isLoading:c,error:o,refetch:u}};export{r as u};
